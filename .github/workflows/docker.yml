name: Build and Push Docker Image

on:
  push:
    branches:
      - main # åªåœ¨ main åˆ†æ”¯è§¸ç™¼

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸš€ æª¢å‡ºç¨‹å¼ç¢¼
        uses: actions/checkout@v3

      - name: ğŸ³ ç™»å…¥ Docker Hub
        uses: docker/login-action@v2
        with:
          username: ricky4869
          password: ricky0316

      - name: ğŸ—ï¸ å»ºç«‹ Docker æ˜ åƒæª”
        run: |
          docker build -t ricky4869/vue-app .

      - name: ğŸ·ï¸ æ¨™è¨˜ä¸¦æ¨é€è‡³ Docker Hub
        run: |
          docker tag ricky4869/vue-app ricky4869/vue-app:latest
          docker push ricky4869/vue-app:latest

#DOCKER_USERNAME & DOCKER_PASSWORD
#éœ€è¦åˆ° GitHub Repository -> Settings -> Secrets æ–°å¢ï¼š
#DOCKER_USERNAME: ä½ çš„ Docker Hub å¸³è™Ÿ
#DOCKER_PASSWORD: ä½ çš„ Docker Hub å¯†ç¢¼ï¼ˆæˆ–å€‹äººå­˜å– Tokenï¼‰
#æ˜ åƒæª”åç¨±
#your-dockerhub-username/vue-app è«‹æ›æˆä½ è‡ªå·±çš„ Docker Hub å¸³è™Ÿåç¨±
